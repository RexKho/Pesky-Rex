!function(){"use strict";!function(){class t{constructor(t,e,s){this.pos=s,this.width=64,this.height=64,this.canvas=t,this.ctx=e,this.droneSprite=new Image,this.droneSprite.src="src/images/dronev2.png"}draw(){this.ctx.drawImage(this.droneSprite,0,0,this.width,this.height,this.pos[0],this.pos[1],this.width,this.height)}move(){this.pos[0]+=this.randomNum(),this.pos[1]+=this.randomNum(),this.pos[0]>800&&(this.pos[0]=800),this.pos[0]<0&&(this.pos[0]=0),this.pos[1]>500&&(this.pos[1]=500),this.pos[1]<0&&(this.pos[1]=0)}randomNum(){return Math.ceil(4*Math.random())*(Math.round(Math.random())?1:-1)}}class e{constructor(t,e){this.ctx=t,this.x=e[0],this.y=e[1],this.width=50,this.height=50,this.poopSprite=new Image,this.poopSprite.src="src/images/poop.png"}draw(){this.ctx.drawImage(this.poopSprite,this.x-28,this.y,this.width,this.height)}}class s{constructor(t,e){this.pos=[25,470],this.width=32,this.height=32,this.canvas=t,this.ctx=e,this.dogSprite=new Image,this.dogSprite.src="src/images/dogwalking.png"}draw(){this.ctx.drawImage(this.dogSprite,0,0,this.width,this.height,this.pos[0],this.pos[1],this.width,this.height)}move(t){this.pos[0]+=t[0],this.pos[0]<0&&(this.pos[0]=0),this.pos[0]>780&&(this.pos[0]=760),this.pos[1]+=t[1],this.pos[1]<0&&(this.pos[1]=0),this.pos[1]>480&&(this.pos[1]=460)}}let i=document.getElementById("simpleModal"),n=document.getElementById("modalBtn"),o=document.getElementsByClassName("closeBtn")[0];n.addEventListener("click",(function(){i.style.display="flex"})),o.addEventListener("click",(function(){i.style.display="none"})),window.addEventListener("click",(function(t){t.target===i&&(i.style.display="none")}));let h=new Audio;h.volume=1,h.src="src/audio/fart.mp3";let d=!1,r=new Audio;r.src="src/audio/song.mp3",r.loop=!0,r.volume=.5,document.getElementById("MuteButton").addEventListener("click",(function(){d?d&&(d=!1,r.volume=.5,h.volume=1):(d=!0,r.volume=0,h.volume=0)}));const a=document.getElementById("canvas1"),c=a.getContext("2d");let l=new class{constructor(e,i){this.background=new Image,this.background.src="src/images/background.png",this.canvas=e,this.ctx=i,this.width=e.width,this.height=e.height,this.rex=new s(e,i),this.pooped=new Set([]),this.winYet=!1,this.drone1=new t(e,i,[735,85]),this.drone2=new t(e,i,[450,270]),this.drone3=new t(e,i,[300,55]),this.drone4=new t(e,i,[711,320]),this.paused=!1}togglePause(){this.paused?this.paused&&(this.paused=!1):this.paused=!0}dist(t,e){return Math.sqrt((t.pos[0]-e.pos[0])**2+(t.pos[1]-e.pos[1])**2)}collided(t,e){return(t.width+e.width)/2>this.dist(t,e)||(t.height+e.height)/2>this.dist(t,e)}reset(e,i){this.rex=new s(e,i),this.pooped=new Set([]),this.drone1=new t(e,i,[735,85]),this.drone2=new t(e,i,[450,270]),this.drone3=new t(e,i,[300,55]),this.drone4=new t(e,i,[711,320]),this.winYet=!1}gamestart(){this.reset(this.canvas,this.ctx),this.paused=!1;let t=document.getElementById("start"),e=document.getElementById("canvas1"),s=document.getElementById("endLost"),i=document.getElementById("endWon");t.style.display="none",e.style.display="block",s.style.display="none",i.style.display="none",this.animate()}endgame(){let t=document.getElementById("start"),e=document.getElementById("canvas1"),s=document.getElementById("endLost"),i=document.getElementById("endWon");t.style.display="none",e.style.display="none",!1===this.winYet?(s.style.display="block",i.style.display="none"):(i.style.display="block",s.style.display="none"),this.paused=!0,this.winYet=!1}addPoop(){let t=new e(this.ctx,this.rex.pos);this.pooped.add(t)}gamechecker(){let t=[!1,!1,!1,!1,!1,!1];this.pooped.forEach((e=>{e.x>=114&&e.x<=261&&e.y>=225&&e.y<=415&&(t[0]=!0),e.x>=266&&e.x<=604&&e.y>=225&&e.y<=415&&(t[1]=!0),e.x>=607&&e.x<=798&&e.y>=225&&e.y<=415&&(t[2]=!0),e.x>=113&&e.x<=365&&e.y>=3&&e.y<=154&&(t[3]=!0),e.x>=368&&e.x<=634&&e.y>=0&&e.y<=154&&(t[4]=!0),e.x>=636&&e.x<=799&&e.y>=0&&e.y<=154&&(t[5]=!0)}));t.every((t=>!0===t))&&(this.winYet=!0)}movedrones(){this.drone1.draw(),this.drone1.move(),this.drone2.draw(),this.drone2.move(),this.drone3.draw(),this.drone3.move(),this.drone4.draw(),this.drone4.move()}rexCollideWithDrones(){return!!(this.collided(this.rex,this.drone1)||this.collided(this.rex,this.drone2)||this.collided(this.rex,this.drone3)||this.collided(this.rex,this.drone4))}animate(){if(!this.paused){this.ctx.clearRect(0,0,800,500),this.ctx.drawImage(this.background,0,0,800,500),this.rex.draw(),this.gamechecker(),this.movedrones();for(let t of this.pooped)t.draw();!0===this.winYet&&this.endgame(),!0===this.rexCollideWithDrones()&&this.endgame()}requestAnimationFrame(this.animate.bind(this))}}(a,c);document.getElementById("start").addEventListener("click",(function(){r.play(),l.gamestart()})),document.getElementById("endLost").addEventListener("click",(function(){l.gamestart()})),document.getElementById("endWon").addEventListener("click",(function(){l.gamestart()})),document.addEventListener("keydown",(function(t){t.preventDefault(),"w"===t.key&&l.rex.move([0,-10]),"a"===t.key&&l.rex.move([-10,0]),"s"===t.key&&l.rex.move([0,10]),"d"===t.key&&l.rex.move([10,0]),32===t.keyCode&&(l.addPoop(),h.play()),"p"===t.key&&l.togglePause()}))}()}();
//# sourceMappingURL=main.js.map